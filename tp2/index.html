<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vehicle HUD Dashboard</title>

    <!-- bootstrap local + icônes -->
    <link rel="stylesheet" href="./node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./node_modules/bootstrap-icons/font/bootstrap-icons.css">
    <link rel="stylesheet" href="src/css/style.css">

    <!-- police orbitron -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&display=swap" rel="stylesheet">

    <!-- css de maplibre pour la carte -->
    <link href="https://unpkg.com/maplibre-gl@3.6.1/dist/maplibre-gl.css" rel="stylesheet" />

    <!-- import maps pour simplifier les imports de modules -->
    <script type="importmap">
    {
      "imports": {
        "animejs": "./node_modules/animejs/lib/anime.es.js",
        "chart.js": "./node_modules/chart.js/dist/chart.esm.js",
        "@kurkle/color": "./node_modules/@kurkle/color/dist/color.esm.js",
        "vfx-js": "https://esm.sh/@vfx-js/core",
        "typed.js": "./node_modules/typed.js/dist/typed.module.js",
        "tone.js": "https://esm.sh/tone@15.1.22",
        "tone-visualizer": "./node_modules/tone-visualizer/dist/visualizer.esm.js",
        "zzz": "https://esm.sh/zdog",
        "maplibre-gl": "https://esm.sh/maplibre-gl@5.13.0",
        "bootstrap": "./node_modules/bootstrap/dist/js/bootstrap.esm.min.js"
      }
    }
    </script>
</head>

<body class="hud-body">
    <main class="hud-grid">

        <!-- bandeau du haut avec infos véhicule -->
        <header class="hud-header">
            <div class="hud-header-text rgb">
                Vehicle HUD – Mode: AUTONOMOUS
            </div>
            <!-- bouton audio à droite -->
            <button id="audio-toggle" type="button" class="btn btn-sm btn-outline-light ms-auto"
                data-bs-toggle="tooltip" data-bs-placement="bottom" title="Activer / couper l'ambiance sonore">
                Audio
            </button>
        </header>

        <!-- ligne principale : cadrans, graphique, carte -->
        <section class="hud-top">
            <!-- cadran vitesse -->
            <div class="dial dial-speed">
                <div class="dial-label">Speed</div>
                <div class="dial-value" id="speed-value">0 km/h</div>
                <div class="dial-needle speed-needle"></div>
            </div>

            <!-- cadran carburant / énergie -->
            <div class="dial dial-energy">
                <div class="dial-label">Fuel</div>
                <div class="dial-value" id="energy-value">100 %</div>
                <div class="dial-needle energy-needle"></div>
            </div>

            <!-- zone graphique chartjs -->
            <div class="top-graphs">
                <canvas id="topChart"></canvas>
            </div>

            <!-- mini carte navigation -->
            <div class="mini-map" id="hud-map">
            </div>
        </section>

        <!-- bandeau titre des graphiques -->
        <section class="hud-graphs-label">
            <div class="rgb">
                GRAPHIQUES
            </div>
        </section>

        <!-- section du milieu : schéma véhicule + diagnostics -->
        <section class="hud-middle">
            <!-- zone schéma véhicule (zdog) -->
            <div class="vehicle-schematic" id="vehicle-schematic">
                <canvas id="vehicle-schematic-canvas" width="900" height="900"></canvas>
            </div>

            <!-- colonne droite : radar + diagnostics -->
            <div class="right-column">
                <!-- radar zdog -->
                <div class="scan" id="hud-scan">
                    <canvas id="hud-scan-canvas" width="610" height="610"></canvas>
                </div>

                <!-- panneau diagnostics moteur -->
                <div class="diagnostics placeholder" id="hud-diagnostics-top">
                    <div class="rgb">
                        Diagnostics – moteur / batterie / température
                    </div>
                </div>

                <!-- panneau diagnostics verrous -->
                <div class="diagnostics placeholder" id="hud-diagnostics-bottom">
                    <div class="rgb">
                        Diagnostics – verrous / pression pneus / systèmes
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- scripts modules esm -->
    <script type="module" src="src/js/bootstrap.js"></script>
    <script type="module" src="src/js/animejs.js"></script>
    <script type="module" src="src/js/chartjs.js"></script>
    <script type="module" src="src/js/maplibre.js"></script>
    <script type="module" src="src/js/tonejs.js"></script>
    <script type="module" src="src/js/zdog.js"></script>
    <script type="module" src="src/js/vfx.js"></script>
</body>

</html>
